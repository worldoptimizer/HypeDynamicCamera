/*
 Hype Dynamic Camera 1.2.4
copyright (c) 2015 by Lucky (Tumult Forum @Luckyde)
maintaind since 2018 by Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeDynamicCamera"in window&&(window.HypeDynamicCamera=function(){var e={},t=!1,u=!1;-1==window.location.href.indexOf("/Hype/Scratch/HypeScratch.")||t||requestAnimationFrame(function(){if(!u){t=!0;var b=document.createElement("style");b.setAttribute("type","text/css");b.appendChild(document.createTextNode("[data-dynamic-camera]:not(.dynamic-camera-no-border) { box-sizing: border-box !important; border: var(--dynamic-camera-border, solid red 4px) !important;}"));document.getElementsByTagName("head")[0].appendChild(b)}});
!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,v,w){b.setupDynamicCamera=function(a,c,h){h=h||{};if(e[a.id])e[a.id].observe(a,{attributes:!0,attributeFilter:["style"]}),a.setAttribute("style",a.getAttribute("style"));else{var d=document.getElementById(b.currentSceneId());a&&"string"==typeof a&&(a=d.querySelector(a));c&&"string"==typeof c&&(c=d.querySelector(c));if((c=c||d)&&a){var I=180/Math.PI,k,x,
y,l,m,z,A,B,C,D,n,p,E,F,f,g,G,H,q,r;h.showCamera||(a.style.visibility="hidden",a.style.zIndex=d.style.zIndex);e[a.id]=new MutationObserver(function(J){k=new WebKitCSSMatrix(window.getComputedStyle(a).webkitTransform);q=b.getElementProperty(d,"width");r=b.getElementProperty(d,"height");C=b.getElementProperty(a,"left");D=b.getElementProperty(a,"top");n=b.getElementProperty(a,"height");p=b.getElementProperty(a,"width");E=b.getElementProperty(a,"scaleX");F=b.getElementProperty(a,"scaleY");B=-Math.atan2(k.b,
k.a)*I;f=p*E;g=n*F;G=C-(f-p)/2;H=D-(g-n)/2;l=G+f/2;m=H+g/2;z=-1*(l-q/2);A=-1*(m-r/2);x=q/f;y=r/g;c.style.transformOrigin=c.style.WebkitTransformOrigin=l+"px "+m+"px";c.style.webkitTransform=c.style.transform="translateX("+z+"px) translateY("+A+"px) scaleX("+x+") scaleY("+y+") rotateZ("+B+"deg)";c.style.webkitFilter=a.style.webkitFilter;c.style.opacity=a.style.opacity;c.style.display=a.style.display});e[a.id].observe(a,{attributes:!0,attributeFilter:["style"]});a.setAttribute("style",a.getAttribute("style"))}}}}});
window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(b,v,w){document.getElementById(b.currentSceneId()).querySelectorAll("[data-dynamic-camera]").forEach(function(a){var c=a.getAttribute("data-dynamic-camera");b.setupDynamicCamera(a,c)})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,v,w){Object.values(e).forEach(function(a){a.disconnect()})}});return{version:"1.2.4",hideBorderInIDE:function(){u=!0}}}());
