/*
 Hype Dynamic Camera 1.2.5
copyright (c) 2015 by Lucky (Tumult Forum @Luckyde)
maintaind since 2018 by Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeDynamicCamera"in window&&(window.HypeDynamicCamera=function(){var f={},v=!1,w=!1;-1==window.location.href.indexOf("/Hype/Scratch/HypeScratch.")||v||requestAnimationFrame(function(){if(!w){v=!0;var b=document.createElement("style");b.setAttribute("type","text/css");b.appendChild(document.createTextNode("[data-dynamic-camera]:not(.dynamic-camera-no-border) { box-sizing: border-box !important; border: var(--dynamic-camera-border, solid red 4px) !important;}"));document.getElementsByTagName("head")[0].appendChild(b)}});
!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,x,y){b.setupDynamicCamera=function(a,c,g){g=g||{};if(f[a.id])f[a.id].observe(a,{attributes:!0,attributeFilter:["style"]}),a.setAttribute("style",a.getAttribute("style"));else{var h=document.getElementById(b.currentSceneId());a&&"string"==typeof a&&(a=h.querySelector(a));c&&"string"==typeof c&&(c=h.querySelector(c));if((c=c||h)&&a){var I=180/Math.PI,p,d,
e,q,r,z,A,B,C,D,t,u,E,F,k,l,G,H,m,n;g.showCamera||(a.style.visibility="hidden",a.style.zIndex=h.style.zIndex);f[a.id]=new MutationObserver(function(J){p=new WebKitCSSMatrix(window.getComputedStyle(a).webkitTransform);C=b.getElementProperty(a,"left");D=b.getElementProperty(a,"top");t=b.getElementProperty(a,"height");u=b.getElementProperty(a,"width");E=b.getElementProperty(a,"scaleX");F=b.getElementProperty(a,"scaleY");m||(m=b.getElementProperty(c,"width"));n||(n=b.getElementProperty(c,"height"));B=
-Math.atan2(p.b,p.a)*I;k=u*E;l=t*F;G=C-(k-u)/2;H=D-(l-t)/2;q=G+k/2;r=H+l/2;z=-1*(q-m/2);A=-1*(r-n/2);d=m/k;e=n/l;switch(g.stageFit){default:case "contain":d=e=Math.min(d,e);break;case "cover":d=e=Math.max(d,e);case "fill":}c.style.transformOrigin=c.style.WebkitTransformOrigin=q+"px "+r+"px";c.style.webkitTransform=c.style.transform="translateX("+z+"px) translateY("+A+"px) scaleX("+d+") scaleY("+e+") rotateZ("+B+"deg)";c.style.webkitFilter=a.style.webkitFilter;c.style.opacity=a.style.opacity;c.style.display=
a.style.display});f[a.id].observe(a,{attributes:!0,attributeFilter:["style"]});a.setAttribute("style",a.getAttribute("style"))}}}}});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(b,x,y){document.getElementById(b.currentSceneId()).querySelectorAll("[data-dynamic-camera]").forEach(function(a){var c=a.getAttribute("data-dynamic-camera");b.setupDynamicCamera(a,c,{stageFit:a.getAttribute("data-dynamic-camera-stage-fit"),showCamera:a.hasAttribute("data-dynamic-camera-show")})})}});
window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,x,y){Object.values(f).forEach(function(a){a.disconnect()})}});return{version:"1.2.5",hideBorderInIDE:function(){w=!0}}}());
